DROP DATABASE IF EXISTS INDUSTRY;
CREATE DATABASE INDUSTRY;
USE INDUSTRY;

DROP TABLE IF EXISTS USER_INFO;
CREATE TABLE IF NOT EXISTS USER_INFO (
  ID INTEGER(11) PRIMARY KEY AUTO_INCREMENT COMMENT 'ID',
  USER_NAME VARCHAR(20) NOT NULL COMMENT '用户名',
  PASSWORD VARCHAR(50) NOT NULL COMMENT '密码的MD5',
  LEVEL INTEGER(1) COMMENT '用户类型'
) ENGINE INNODB DEFAULT CHARSET=UTF8;

INSERT INTO USER_INFO (USER_NAME,PASSWORD,LEVEL) VALUES ('STREAM','123456',1);
SELECT * FROM USER_INFO USER WHERE USER.ID = 1;

DROP TABLE IF EXISTS MENU;
CREATE TABLE MENU(
  ID INTEGER(11) PRIMARY KEY AUTO_INCREMENT COMMENT 'ID',
  MENU_NAME VARCHAR(50) NOT NULL COMMENT '菜单名',
  LEVEL INTEGER(1) NOT NULL COMMENT '菜单级别',
  PARENT_ID INTEGER(11) COMMENT '父菜单ID',
  SORT INTEGER(5) COMMENT '次序'
) ENGINE INNODB DEFAULT CHARSET=UTF8;

DROP TABLE IF EXISTS IMAGE_INFO;
CREATE TABLE IMAGE_INFO(
  ID INTEGER(11) PRIMARY KEY AUTO_INCREMENT COMMENT 'ID',
  URL VARCHAR(200) NOT NULL COMMENT '图片URL',
  TYPE VARCHAR(2) NOT NULL COMMENT '所属分类 1.BANNER 2.PRODUCT大图 3.PRODUCT详情页图片',
  IMAGE_DESC VARCHAR(200) COMMENT '',
  SORT INTEGER(5) COMMENT '次序',
  AVAILABLE INTEGER(1) COMMENT '是否可用'
) ENGINE INNODB DEFAULT CHARSET=UTF8;

DROP TABLE IF EXISTS BANNER_INFO;
CREATE TABLE BANNER_INFO(
  ID INTEGER(11) PRIMARY KEY AUTO_INCREMENT COMMENT 'ID',
  DESC_INFO VARCHAR(200) COMMENT '图片介绍',
  AVAILABLE VARCHAR(1) COMMENT '可用状态 0不可用 1可用',
  SORT INTEGER(5) COMMENT '次序'
) ENGINE INNODB DEFAULT CHARSET=UTF8;

DROP TABLE IF EXISTS BANNER_INFO_IMAGE;
CREATE TABLE IF NOT EXISTS BANNER_INFO_IMAGE (
  ID INTEGER(11) PRIMARY KEY AUTO_INCREMENT COMMENT 'ID',
  BANNER_INFO_ID INTEGER(11) COMMENT '',
  IMAGE_ID INTEGER(11) COMMENT ''
) ENGINE INNODB DEFAULT CHARSET=UTF8;

DROP TABLE IF EXISTS PRODUCT_CATEGORY;
CREATE TABLE IF NOT EXISTS PRODUCT_CATEGORY (
  ID INTEGER(11) PRIMARY KEY AUTO_INCREMENT COMMENT 'ID',
  CATEGORY_NAME VARCHAR(200) NOT NULL COMMENT '产品分类名字',
  PARENT_ID INTEGER(11) NOT NULL COMMENT '父类ID,如果是父类则为0',
  SORT INTEGER(5) COMMENT '次序',
  AVAILABLE INTEGER(1) COMMENT '是否可用'
) ENGINE INNODB DEFAULT CHARSET=UTF8;


DROP TABLE IF EXISTS PRODUCT;
CREATE TABLE IF NOT EXISTS PRODUCT (
  ID INTEGER(11) PRIMARY KEY AUTO_INCREMENT COMMENT 'ID',
  PRODUCT_NAME VARCHAR(200) NOT NULL COMMENT '产品名字',
  IMAGE_ID INTEGER(11) NOT NULL COMMENT '图片ID',
  TITLE VARCHAR(200) COMMENT '产品标题',
  CATEGORY_ID INTEGER(11) COMMENT '产品类别',
  CATEGORY_PARENT_ID INTEGER(11) COMMENT '产品父类别',
  AVAILABLE INTEGER(1) COMMENT '是否可用'
) ENGINE INNODB DEFAULT CHARSET=UTF8;

DROP TABLE IF EXISTS PRODUCT_IMAGE;
CREATE TABLE IF NOT EXISTS PRODUCT_IMAGE (
  ID INTEGER(11) PRIMARY KEY AUTO_INCREMENT COMMENT 'ID',
  PRODUCT_ID INTEGER(11) COMMENT '',
  IMAGE_ID INTEGER(11) COMMENT ''
) ENGINE INNODB DEFAULT CHARSET=UTF8;

DROP TABLE IF EXISTS PRODUCT_DETAIL;
CREATE TABLE IF NOT EXISTS PRODUCT_DETAIL (
  ID INTEGER(11) PRIMARY KEY AUTO_INCREMENT COMMENT 'ID',
  TITLE VARCHAR(200) COMMENT '',
  PRODUCT_ID INTEGER(11) COMMENT '',
  IMAGE_ID INTEGER(11) COMMENT '',
  DESCRIPTION VARCHAR(2000) COMMENT '',
  DETAIL TEXT COMMENT ''
) ENGINE INNODB DEFAULT CHARSET=UTF8;
COMMIT ;

